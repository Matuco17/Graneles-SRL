<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:Cc="http://java.sun.com/jsf/composite/CompositeComponents"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
        <ui:define name="title">
            <h:outputText value="#{bundleCarga.ViewEmbarqueTitle}"></h:outputText>
        </ui:define>
        <ui:define name="body">
            <h:form>
                <div style="min-width: 650px; float:left;">
                    <p:fieldset legend="Datos del Embarque" toggleable="true"  >
                        
                        <Cc:embarqueDatosGenerales nuevo="false" editar="false"/>
                        
                    </p:fieldset>
                    
                    <p:fieldset legend="Cargadores del Embarque" toggleable="true">
                        
                        <Cc:embarqueCargadores editar="false"/>
                        
                    </p:fieldset>
                    
                    <p:fieldset id="panTurnos" legend="Turnos" toggleable="true" collapsed="false" >
                   
                        <Cc:EmbarqueTurnos editar="false" />

                    </p:fieldset>
                    
                </div> 
                <div style="min-width: 350px; float: left;" >
                    <p:fieldset id="panCargaPrevia" legend="Carga en Tránsito" toggleable="true" >
                        
                        <Cc:embarqueCargaPrevia editar="false" nuevo="false"/>
                        
                    </p:fieldset>
                    
                    <p:fieldset id="panArchivos" legend="Archivos" toggleable="true">
                        
                        <Cc:EmbarqueArchivos editar="false"/>
                        
                    </p:fieldset>                    
                </div>
                
                <p:panel style="width: 100%; float: left;" >
                    <h:panelGrid columns="3">
                            <h:commandButton action="#{embarqueController.generarReportePlano()}"
                                         label="Generar Plano de Carga"
                                         value="Generar Plano de Carga"
                                         rendered="#{embarqueController.urlReportePlano == null}"
                                         />
                            
                            <h:link value="Plano de Carga" 
                                    onclick="window.open('#{embarqueController.urlReportePlano}','Download');window.close();" 
                                    rendered="#{embarqueController.urlReportePlano != null}" />

                           <h:commandButton action="#{embarqueController.generarReporteResumenCargasTurnos()}"
                                         label="Generar Resumen Total de Cargas por Turnos"
                                         value="Generar Resumen Total de Cargas por Turnos"
                                         rendered="#{embarqueController.urlReporteResumenCargasTurnos == null}"
                                         />
                            
                            <h:link value="Resumen Total de Cargas por Turnos" 
                                    onclick="window.open('#{embarqueController.urlReporteResumenCargasTurnos}','Download');window.close();" 
                                    rendered="#{embarqueController.urlReporteResumenCargasTurnos != null}" />

                            <h:commandButton action="#{embarqueController.generarReporteResumenCargasCoordinador()}"
                                         label="Generar Resumen Total de Cargas por Cargador"
                                         value="Generar Resumen Total de Cargas por Cargador"
                                         rendered="#{embarqueController.urlReporteResumenCargasCoordinador == null}" />
                           <h:link value="Resumen Total de Cargas por Cargador" 
                                    onclick="window.open('#{embarqueController.urlReporteResumenCargasCoordinador}','Download');window.close();" 
                                    rendered="#{embarqueController.urlReporteResumenCargasCoordinador != null}" />
                        
                    </h:panelGrid>
                </p:panel>

                <p:panel style="width: 100%; float: left;" > 
                    <h:panelGrid columns="4">
                        <h:commandButton action="#{embarqueController.destroyAndView}" 
                                         image="/faces/resources/images/destroy.png" 
                                         value="#{bundleCarga.EmbarqueDestroyLink}"
                                         title="#{bundleCarga.EmbarqueDestroyLink}"
                                         onclick="return confirm('¿Esta seguro que desea eliminar este Embarque?');" 
                                         />

                        <h:commandButton action="Edit" 
                                         image="/faces/resources/images/edit.png" 
                                         value="#{bundleCarga.EmbarqueEditLink}"
                                         title="#{bundleCarga.EmbarqueEditLink}"
                                         />
                        <h:commandButton action="#{embarqueController.prepareCreate}" 
                                         image="/faces/resources/images/new.png" 
                                         value="#{bundleCarga.EmbarqueCreateLink}"
                                         title="#{bundleCarga.EmbarqueCreateLink}"
                                         />
                        <h:commandButton action="#{embarqueController.prepareList}"
                                         image="/faces/resources/images/viewAll.png" 
                                         value="#{bundleCarga.EmbarqueShowAllLink}"
                                         title="#{bundleCarga.EmbarqueShowAllLink}"
                                         />
                    </h:panelGrid>
                </p:panel>
            </h:form>
        </ui:define>
    </ui:composition>

</html>
